<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<style>body{background-color:white;}</style>
<script src="libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<link href="libs/leaflet-1.3.1/leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-1.3.1/leaflet.js"></script>
<link href="libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet" />
<script src="libs/proj4-2.6.2/proj4.min.js"></script>
<script src="libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script>
<link href="libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-binding-2.2.2/leaflet.js"></script>
<script src="libs/leaflet-providers-2.0.0/leaflet-providers_2.0.0.js"></script>
<script src="libs/leaflet-providers-plugin-2.2.2/leaflet-providers-plugin.js"></script>
<script src="libs/FlatGeoBuf-3.31.1/fgb.js"></script>
<script src="libs/FlatGeoBuf-3.31.1/flatgeobuf-geojson.min.js"></script>
<script src="libs/chromajs-2.1.0/chroma.min.js"></script>
<link id="Pembrokeshire-1-attachment" rel="attachment" href="libs/Pembrokeshire-0.0.1/Pembrokeshire_layer.fgb"/>
<script src="libs/HomeButton-0.0.1/home-button.js"></script>
<script src="libs/HomeButton-0.0.1/easy-button-src.min.js"></script>
<link href="libs/Pembrokeshire-CSS-0.0.1/Pembrokeshire_home-button.css" rel="stylesheet" />
<script src="libs/clipboard-0.0.1/setClipboardText.js"></script>
<link href="libs/mapviewCSS-0.0.1/mapview-popup.css" rel="stylesheet" />
<link href="libs/mapviewCSS-0.0.1/mapview.css" rel="stylesheet" />
<link id="Manchester-1-attachment" rel="attachment" href="libs/Manchester-0.0.1/Manchester_layer.fgb"/>
<link href="libs/Manchester-CSS-0.0.1/Manchester_home-button.css" rel="stylesheet" />
<link id="Ruhr-1-attachment" rel="attachment" href="libs/Ruhr-0.0.1/Ruhr_layer.fgb"/>
<link href="libs/Ruhr-CSS-0.0.1/Ruhr_home-button.css" rel="stylesheet" />
<link id="Barcelona-1-attachment" rel="attachment" href="libs/Barcelona-0.0.1/Barcelona_layer.fgb"/>
<link href="libs/Barcelona-CSS-0.0.1/Barcelona_home-button.css" rel="stylesheet" />
<link id="Bologna-1-attachment" rel="attachment" href="libs/Bologna-0.0.1/Bologna_layer.fgb"/>
<link href="libs/Bologna-CSS-0.0.1/Bologna_home-button.css" rel="stylesheet" />
<link id="Stockholm-1-attachment" rel="attachment" href="libs/Stockholm-0.0.1/Stockholm_layer.fgb"/>
<link href="libs/Stockholm-CSS-0.0.1/Stockholm_home-button.css" rel="stylesheet" />
<link id="Warsaw-1-attachment" rel="attachment" href="libs/Warsaw-0.0.1/Warsaw_layer.fgb"/>
<link href="libs/Warsaw-CSS-0.0.1/Warsaw_home-button.css" rel="stylesheet" />
  <title>leaflet</title>
</head>
<body>
<div id="htmlwidget_container">
  <div id="htmlwidget-c54b8c3646284888460e" style="width:100%;height:1000px;" class="leaflet html-widget"></div>
</div>
<script type="application/json" data-for="htmlwidget-c54b8c3646284888460e">{"x":{"options":{"minZoom":1,"maxZoom":52,"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}},"preferCanvas":false,"bounceAtZoomLimits":false,"maxBounds":[[[-90,-370]],[[90,370]]]},"calls":[{"method":"addProviderTiles","args":["CartoDB.Positron","CartoDB.Positron","CartoDB.Positron",{"errorTileUrl":"","noWrap":false,"detectRetina":false,"pane":"tilePane"}]},{"method":"addProviderTiles","args":["CartoDB.DarkMatter","CartoDB.DarkMatter","CartoDB.DarkMatter",{"errorTileUrl":"","noWrap":false,"detectRetina":false,"pane":"tilePane"}]},{"method":"addProviderTiles","args":["OpenStreetMap","OpenStreetMap","OpenStreetMap",{"errorTileUrl":"","noWrap":false,"detectRetina":false,"pane":"tilePane"}]},{"method":"addProviderTiles","args":["Esri.WorldImagery","Esri.WorldImagery","Esri.WorldImagery",{"errorTileUrl":"","noWrap":false,"detectRetina":false,"pane":"tilePane"}]},{"method":"addProviderTiles","args":["OpenTopoMap","OpenTopoMap","OpenTopoMap",{"errorTileUrl":"","noWrap":false,"detectRetina":false,"pane":"tilePane"}]},{"method":"createMapPane","args":["polygon",420]},{"method":"addFlatGeoBuf","args":["Pembrokeshire","Pembrokeshire",null,true,"Respondent count",{"radius":6,"stroke":true,"color":"#333333","weight":0.5,"opacity":0.9,"fill":true,"fillColor":null,"fillOpacity":0.6},{"interactive":true,"className":"","pane":"polygon"},"mapview-popup",{"radius":{"to":[3,15],"from":[3,15]},"weight":{"to":[1,10],"from":[1,10]},"opacity":{"to":[0,1],"from":[0,1]},"fillOpacity":{"to":[0,1],"from":[0,1]}},null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true}]},{"method":"addScaleBar","args":[{"maxWidth":100,"metric":true,"imperial":true,"updateWhenIdle":true,"position":"bottomleft"}]},{"method":"addHomeButton","args":[-5.353335094870733,51.59610398209487,-4.485517957280898,52.11790965709898,true,"Pembrokeshire","Zoom to Pembrokeshire","<strong> Pembrokeshire <\/strong>","bottomleft"]},{"method":"addFlatGeoBuf","args":["Manchester","Manchester",null,true,"Respondent count",{"radius":6,"stroke":true,"color":"#333333","weight":0.5,"opacity":0.9,"fill":true,"fillColor":null,"fillOpacity":0.6},{"interactive":true,"className":"","pane":"polygon"},"mapview-popup",{"radius":{"to":[3,15],"from":[3,15]},"weight":{"to":[1,10],"from":[1,10]},"opacity":{"to":[0,1],"from":[0,1]},"fillOpacity":{"to":[0,1],"from":[0,1]}},null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true}]},{"method":"addHomeButton","args":[-2.185924392788782,53.49112752450338,-1.909622409482921,53.62422929503619,true,"Manchester","Zoom to Manchester","<strong> Manchester <\/strong>","bottomleft"]},{"method":"addFlatGeoBuf","args":["Ruhr","Ruhr",null,true,"Respondent count",{"radius":6,"stroke":true,"color":"#333333","weight":0.5,"opacity":0.9,"fill":true,"fillColor":null,"fillOpacity":0.6},{"interactive":true,"className":"","pane":"polygon"},"mapview-popup",{"radius":{"to":[3,15],"from":[3,15]},"weight":{"to":[1,10],"from":[1,10]},"opacity":{"to":[0,1],"from":[0,1]},"fillOpacity":{"to":[0,1],"from":[0,1]}},null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true}]},{"method":"addHomeButton","args":[7.123644391121218,51.5030797064909,7.29652404674001,51.57334595489721,true,"Ruhr","Zoom to Ruhr","<strong> Ruhr <\/strong>","bottomleft"]},{"method":"addFlatGeoBuf","args":["Barcelona","Barcelona",null,true,"Respondent count",{"radius":6,"stroke":true,"color":"#333333","weight":0.5,"opacity":0.9,"fill":true,"fillColor":null,"fillOpacity":0.6},{"interactive":true,"className":"","pane":"polygon"},"mapview-popup",{"radius":{"to":[3,15],"from":[3,15]},"weight":{"to":[1,10],"from":[1,10]},"opacity":{"to":[0,1],"from":[0,1]},"fillOpacity":{"to":[0,1],"from":[0,1]}},null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true}]},{"method":"addHomeButton","args":[1.998640624592709,41.28749203972838,2.487136796994346,41.58055513906636,true,"Barcelona","Zoom to Barcelona","<strong> Barcelona <\/strong>","bottomleft"]},{"method":"addFlatGeoBuf","args":["Bologna","Bologna",null,true,"Respondent count",{"radius":6,"stroke":true,"color":"#333333","weight":0.5,"opacity":0.9,"fill":true,"fillColor":null,"fillOpacity":0.6},{"interactive":true,"className":"","pane":"polygon"},"mapview-popup",{"radius":{"to":[3,15],"from":[3,15]},"weight":{"to":[1,10],"from":[1,10]},"opacity":{"to":[0,1],"from":[0,1]},"fillOpacity":{"to":[0,1],"from":[0,1]}},null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true}]},{"method":"addHomeButton","args":[11.26772908956404,44.43372979718648,11.43370377224355,44.54584354296668,true,"Bologna","Zoom to Bologna","<strong> Bologna <\/strong>","bottomleft"]},{"method":"addFlatGeoBuf","args":["Stockholm","Stockholm",null,true,"Respondent count",{"radius":6,"stroke":true,"color":"#333333","weight":0.5,"opacity":0.9,"fill":true,"fillColor":null,"fillOpacity":0.6},{"interactive":true,"className":"","pane":"polygon"},"mapview-popup",{"radius":{"to":[3,15],"from":[3,15]},"weight":{"to":[1,10],"from":[1,10]},"opacity":{"to":[0,1],"from":[0,1]},"fillOpacity":{"to":[0,1],"from":[0,1]}},null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true}]},{"method":"addHomeButton","args":[17.75692261388759,59.35520277518799,18.09785702608093,59.50914093220831,true,"Stockholm","Zoom to Stockholm","<strong> Stockholm <\/strong>","bottomleft"]},{"method":"addFlatGeoBuf","args":["Warsaw","Warsaw",null,true,"Respondent count",{"radius":6,"stroke":true,"color":"#333333","weight":0.5,"opacity":0.9,"fill":true,"fillColor":null,"fillOpacity":0.6},{"interactive":true,"className":"","pane":"polygon"},"mapview-popup",{"radius":{"to":[3,15],"from":[3,15]},"weight":{"to":[1,10],"from":[1,10]},"opacity":{"to":[0,1],"from":[0,1]},"fillOpacity":{"to":[0,1],"from":[0,1]}},null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true}]},{"method":"addHomeButton","args":[20.99576237326308,52.23258100503508,21.10806248890265,52.29485055458233,true,"Warsaw","Zoom to Warsaw","<strong> Warsaw <\/strong>","bottomleft"]},{"method":"addLayersControl","args":[["CartoDB.Positron","CartoDB.DarkMatter","OpenStreetMap","Esri.WorldImagery","OpenTopoMap"],["Pembrokeshire","Manchester","Ruhr","Barcelona","Bologna","Stockholm","Warsaw"],{"collapsed":true,"autoZIndex":true,"position":"topleft"}]},{"method":"addHomeButton","args":[-5.353335094870733,41.28749203972838,21.10806248890265,59.50914093220831,true,null,"Zoom to full extent","<strong>Zoom full<\/strong>","bottomleft"]},{"method":"clearControls","args":[]},{"method":"addControl","args":["<div id=\"legend-Pembrokeshire\" data-group=\"Pembrokeshire\" style=\"display:block;\">\n  <div style=\"background:white; padding:4px 6px; margin:2px 0;\">\n    <div style=\"font-weight:600; font-size:11px; margin-bottom:4px;\">Pembrokeshire<\/div>\n    <div style=\"position:relative; height:60px;\">\n      <span style=\"display:block; width:10px; height:60px; background:linear-gradient(to top,#440154FF,#471164FF,#482071FF,#472E7CFF,#443C84FF,#3F4889FF,#39558CFF,#34618DFF,#2F6C8EFF,#2A768EFF,#26818EFF,#228B8DFF,#1F958BFF,#1FA088FF,#24AA83FF,#30B47CFF,#41BD72FF,#57C666FF,#6FCF57FF,#8AD647FF,#A7DB35FF,#C4E021FF,#E2E418FF,#FDE725FF);\"><\/span>\n      <div style=\"position:absolute; left:12px; top:60px; width:4px; height:1px; background:#555; transform:translateY(-50%);\"><\/div>\n      <div style=\"position:absolute; left:18px; top:60px; transform:translateY(-50%); font-size:9px; white-space:nowrap;\">1<\/div>\n      <div style=\"position:absolute; left:12px; top:45px; width:4px; height:1px; background:#555; transform:translateY(-50%);\"><\/div>\n      <div style=\"position:absolute; left:18px; top:45px; transform:translateY(-50%); font-size:9px; white-space:nowrap;\">14<\/div>\n      <div style=\"position:absolute; left:12px; top:30px; width:4px; height:1px; background:#555; transform:translateY(-50%);\"><\/div>\n      <div style=\"position:absolute; left:18px; top:30px; transform:translateY(-50%); font-size:9px; white-space:nowrap;\">27<\/div>\n      <div style=\"position:absolute; left:12px; top:15px; width:4px; height:1px; background:#555; transform:translateY(-50%);\"><\/div>\n      <div style=\"position:absolute; left:18px; top:15px; transform:translateY(-50%); font-size:9px; white-space:nowrap;\">40<\/div>\n      <div style=\"position:absolute; left:12px; top:0px; width:4px; height:1px; background:#555; transform:translateY(-50%);\"><\/div>\n      <div style=\"position:absolute; left:18px; top:0px; transform:translateY(-50%); font-size:9px; white-space:nowrap;\">53<\/div>\n    <\/div>\n  <\/div>\n<\/div>","topright",null,"info legend"]},{"method":"addControl","args":["<div id=\"legend-Manchester\" data-group=\"Manchester\" style=\"display:block;\">\n  <div style=\"background:white; padding:4px 6px; margin:2px 0;\">\n    <div style=\"font-weight:600; font-size:11px; margin-bottom:4px;\">Manchester<\/div>\n    <div style=\"position:relative; height:60px;\">\n      <span style=\"display:block; width:10px; height:60px; background:linear-gradient(to top,#000004FF,#060518FF,#110C2FFF,#1E1149FF,#301164FF,#430F75FF,#55137DFF,#661A80FF,#772281FF,#892881FF,#9B2E7FFF,#AD347CFF,#BF3A77FF,#D0416FFF,#E04C67FF,#ED5A5FFF,#F66D5CFF,#FA825FFF,#FD9769FF,#FEAB75FF,#FEC185FF,#FED597FF,#FDE9AAFF,#FCFDBFFF);\"><\/span>\n      <div style=\"position:absolute; left:12px; top:60px; width:4px; height:1px; background:#555; transform:translateY(-50%);\"><\/div>\n      <div style=\"position:absolute; left:18px; top:60px; transform:translateY(-50%); font-size:9px; white-space:nowrap;\">1<\/div>\n      <div style=\"position:absolute; left:12px; top:45px; width:4px; height:1px; background:#555; transform:translateY(-50%);\"><\/div>\n      <div style=\"position:absolute; left:18px; top:45px; transform:translateY(-50%); font-size:9px; white-space:nowrap;\">11<\/div>\n      <div style=\"position:absolute; left:12px; top:30px; width:4px; height:1px; background:#555; transform:translateY(-50%);\"><\/div>\n      <div style=\"position:absolute; left:18px; top:30px; transform:translateY(-50%); font-size:9px; white-space:nowrap;\">21<\/div>\n      <div style=\"position:absolute; left:12px; top:15px; width:4px; height:1px; background:#555; transform:translateY(-50%);\"><\/div>\n      <div style=\"position:absolute; left:18px; top:15px; transform:translateY(-50%); font-size:9px; white-space:nowrap;\">31<\/div>\n      <div style=\"position:absolute; left:12px; top:0px; width:4px; height:1px; background:#555; transform:translateY(-50%);\"><\/div>\n      <div style=\"position:absolute; left:18px; top:0px; transform:translateY(-50%); font-size:9px; white-space:nowrap;\">41<\/div>\n    <\/div>\n  <\/div>\n<\/div>","topright",null,"info legend"]},{"method":"addControl","args":["<div id=\"legend-Ruhr\" data-group=\"Ruhr\" style=\"display:block;\">\n  <div style=\"background:white; padding:4px 6px; margin:2px 0;\">\n    <div style=\"font-weight:600; font-size:11px; margin-bottom:4px;\">Ruhr<\/div>\n    <div style=\"position:relative; height:60px;\">\n      <span style=\"display:block; width:10px; height:60px; background:linear-gradient(to top,#0D0887FF,#280592FF,#3C049BFF,#4F02A2FF,#6001A6FF,#7100A8FF,#8205A7FF,#920FA3FF,#A11B9BFF,#AE2892FF,#BB3488FF,#C6417DFF,#D04D73FF,#DA5A6AFF,#E26660FF,#EA7457FF,#F1824DFF,#F79044FF,#FBA039FF,#FDB030FF,#FDC229FF,#FBD324FF,#F6E626FF,#F0F921FF);\"><\/span>\n      <div style=\"position:absolute; left:12px; top:60px; width:4px; height:1px; background:#555; transform:translateY(-50%);\"><\/div>\n      <div style=\"position:absolute; left:18px; top:60px; transform:translateY(-50%); font-size:9px; white-space:nowrap;\">2<\/div>\n      <div style=\"position:absolute; left:12px; top:45px; width:4px; height:1px; background:#555; transform:translateY(-50%);\"><\/div>\n      <div style=\"position:absolute; left:18px; top:45px; transform:translateY(-50%); font-size:9px; white-space:nowrap;\">9<\/div>\n      <div style=\"position:absolute; left:12px; top:30px; width:4px; height:1px; background:#555; transform:translateY(-50%);\"><\/div>\n      <div style=\"position:absolute; left:18px; top:30px; transform:translateY(-50%); font-size:9px; white-space:nowrap;\">16<\/div>\n      <div style=\"position:absolute; left:12px; top:15px; width:4px; height:1px; background:#555; transform:translateY(-50%);\"><\/div>\n      <div style=\"position:absolute; left:18px; top:15px; transform:translateY(-50%); font-size:9px; white-space:nowrap;\">22<\/div>\n      <div style=\"position:absolute; left:12px; top:0px; width:4px; height:1px; background:#555; transform:translateY(-50%);\"><\/div>\n      <div style=\"position:absolute; left:18px; top:0px; transform:translateY(-50%); font-size:9px; white-space:nowrap;\">29<\/div>\n    <\/div>\n  <\/div>\n<\/div>","topright",null,"info legend"]},{"method":"addControl","args":["<div id=\"legend-Barcelona\" data-group=\"Barcelona\" style=\"display:block;\">\n  <div style=\"background:white; padding:4px 6px; margin:2px 0;\">\n    <div style=\"font-weight:600; font-size:11px; margin-bottom:4px;\">Barcelona<\/div>\n    <div style=\"position:relative; height:60px;\">\n      <span style=\"display:block; width:10px; height:60px; background:linear-gradient(to top,#000004FF,#060419FF,#120A32FF,#230C4DFF,#370961FF,#490B6AFF,#5B126EFF,#6D186EFF,#7E1E6CFF,#902568FF,#A22B62FF,#B3325AFF,#C33B4FFF,#D24644FF,#DF5337FF,#EA632AFF,#F3751CFF,#F8880DFF,#FB9C07FF,#FCB115FF,#F9C72EFF,#F4DD4EFF,#F1F179FF,#FCFFA4FF);\"><\/span>\n      <div style=\"position:absolute; left:12px; top:60px; width:4px; height:1px; background:#555; transform:translateY(-50%);\"><\/div>\n      <div style=\"position:absolute; left:18px; top:60px; transform:translateY(-50%); font-size:9px; white-space:nowrap;\">1<\/div>\n      <div style=\"position:absolute; left:12px; top:45px; width:4px; height:1px; background:#555; transform:translateY(-50%);\"><\/div>\n      <div style=\"position:absolute; left:18px; top:45px; transform:translateY(-50%); font-size:9px; white-space:nowrap;\">27<\/div>\n      <div style=\"position:absolute; left:12px; top:30px; width:4px; height:1px; background:#555; transform:translateY(-50%);\"><\/div>\n      <div style=\"position:absolute; left:18px; top:30px; transform:translateY(-50%); font-size:9px; white-space:nowrap;\">52<\/div>\n      <div style=\"position:absolute; left:12px; top:15px; width:4px; height:1px; background:#555; transform:translateY(-50%);\"><\/div>\n      <div style=\"position:absolute; left:18px; top:15px; transform:translateY(-50%); font-size:9px; white-space:nowrap;\">78<\/div>\n      <div style=\"position:absolute; left:12px; top:0px; width:4px; height:1px; background:#555; transform:translateY(-50%);\"><\/div>\n      <div style=\"position:absolute; left:18px; top:0px; transform:translateY(-50%); font-size:9px; white-space:nowrap;\">104<\/div>\n    <\/div>\n  <\/div>\n<\/div>","topright",null,"info legend"]},{"method":"addControl","args":["<div id=\"legend-Bologna\" data-group=\"Bologna\" style=\"display:block;\">\n  <div style=\"background:white; padding:4px 6px; margin:2px 0;\">\n    <div style=\"font-weight:600; font-size:11px; margin-bottom:4px;\">Bologna<\/div>\n    <div style=\"position:relative; height:60px;\">\n      <span style=\"display:block; width:10px; height:60px; background:linear-gradient(to top,#00204DFF,#002860FF,#002F6FFF,#0C376EFF,#273F6CFF,#37486BFF,#434F6BFF,#50576CFF,#5A5F6DFF,#646770FF,#6E6F73FF,#787777FF,#828079FF,#8C8879FF,#979178FF,#A29A76FF,#AEA374FF,#B9AC70FF,#C6B56BFF,#D2C066FF,#DECA5FFF,#EBD456FF,#F8DF4BFF,#FFEA46FF);\"><\/span>\n      <div style=\"position:absolute; left:12px; top:60px; width:4px; height:1px; background:#555; transform:translateY(-50%);\"><\/div>\n      <div style=\"position:absolute; left:18px; top:60px; transform:translateY(-50%); font-size:9px; white-space:nowrap;\">1<\/div>\n      <div style=\"position:absolute; left:12px; top:45px; width:4px; height:1px; background:#555; transform:translateY(-50%);\"><\/div>\n      <div style=\"position:absolute; left:18px; top:45px; transform:translateY(-50%); font-size:9px; white-space:nowrap;\">6<\/div>\n      <div style=\"position:absolute; left:12px; top:30px; width:4px; height:1px; background:#555; transform:translateY(-50%);\"><\/div>\n      <div style=\"position:absolute; left:18px; top:30px; transform:translateY(-50%); font-size:9px; white-space:nowrap;\">11<\/div>\n      <div style=\"position:absolute; left:12px; top:15px; width:4px; height:1px; background:#555; transform:translateY(-50%);\"><\/div>\n      <div style=\"position:absolute; left:18px; top:15px; transform:translateY(-50%); font-size:9px; white-space:nowrap;\">16<\/div>\n      <div style=\"position:absolute; left:12px; top:0px; width:4px; height:1px; background:#555; transform:translateY(-50%);\"><\/div>\n      <div style=\"position:absolute; left:18px; top:0px; transform:translateY(-50%); font-size:9px; white-space:nowrap;\">21<\/div>\n    <\/div>\n  <\/div>\n<\/div>","topright",null,"info legend"]},{"method":"addControl","args":["<div id=\"legend-Stockholm\" data-group=\"Stockholm\" style=\"display:block;\">\n  <div style=\"background:white; padding:4px 6px; margin:2px 0;\">\n    <div style=\"font-weight:600; font-size:11px; margin-bottom:4px;\">Stockholm<\/div>\n    <div style=\"position:relative; height:60px;\">\n      <span style=\"display:block; width:10px; height:60px; background:linear-gradient(to top,#03051AFF,#110C24FF,#211330FF,#31183BFF,#421B45FF,#531E4DFF,#651F54FF,#771F59FF,#8B1D5BFF,#9E1A5BFF,#B01759FF,#C21753FF,#D2204CFF,#DF2F44FF,#E9423EFF,#EF5940FF,#F26E4BFF,#F4825AFF,#F5956CFF,#F6A77FFF,#F6B994FF,#F7CAACFF,#F8DAC5FF,#FAEBDDFF);\"><\/span>\n      <div style=\"position:absolute; left:12px; top:60px; width:4px; height:1px; background:#555; transform:translateY(-50%);\"><\/div>\n      <div style=\"position:absolute; left:18px; top:60px; transform:translateY(-50%); font-size:9px; white-space:nowrap;\">1<\/div>\n      <div style=\"position:absolute; left:12px; top:45px; width:4px; height:1px; background:#555; transform:translateY(-50%);\"><\/div>\n      <div style=\"position:absolute; left:18px; top:45px; transform:translateY(-50%); font-size:9px; white-space:nowrap;\">11<\/div>\n      <div style=\"position:absolute; left:12px; top:30px; width:4px; height:1px; background:#555; transform:translateY(-50%);\"><\/div>\n      <div style=\"position:absolute; left:18px; top:30px; transform:translateY(-50%); font-size:9px; white-space:nowrap;\">20<\/div>\n      <div style=\"position:absolute; left:12px; top:15px; width:4px; height:1px; background:#555; transform:translateY(-50%);\"><\/div>\n      <div style=\"position:absolute; left:18px; top:15px; transform:translateY(-50%); font-size:9px; white-space:nowrap;\">30<\/div>\n      <div style=\"position:absolute; left:12px; top:0px; width:4px; height:1px; background:#555; transform:translateY(-50%);\"><\/div>\n      <div style=\"position:absolute; left:18px; top:0px; transform:translateY(-50%); font-size:9px; white-space:nowrap;\">40<\/div>\n    <\/div>\n  <\/div>\n<\/div>","topright",null,"info legend"]},{"method":"addControl","args":["<div id=\"legend-Warsaw\" data-group=\"Warsaw\" style=\"display:block;\">\n  <div style=\"background:white; padding:4px 6px; margin:2px 0;\">\n    <div style=\"font-weight:600; font-size:11px; margin-bottom:4px;\">Warsaw<\/div>\n    <div style=\"position:relative; height:60px;\">\n      <span style=\"display:block; width:10px; height:60px; background:linear-gradient(to top,#0B0405FF,#170C15FF,#221425FF,#2C1C36FF,#342549FF,#3B2D5CFF,#3F3670FF,#414183FF,#3E4D93FF,#3A5B9BFF,#37689FFF,#3574A1FF,#3480A4FF,#348DA7FF,#3499AAFF,#37A5ACFF,#3CB2ADFF,#46BEADFF,#56CBADFF,#72D4ADFF,#93DCB5FF,#B0E4C1FF,#C8ECD2FF,#DEF5E5FF);\"><\/span>\n      <div style=\"position:absolute; left:12px; top:60px; width:4px; height:1px; background:#555; transform:translateY(-50%);\"><\/div>\n      <div style=\"position:absolute; left:18px; top:60px; transform:translateY(-50%); font-size:9px; white-space:nowrap;\">1<\/div>\n      <div style=\"position:absolute; left:12px; top:45px; width:4px; height:1px; background:#555; transform:translateY(-50%);\"><\/div>\n      <div style=\"position:absolute; left:18px; top:45px; transform:translateY(-50%); font-size:9px; white-space:nowrap;\">8<\/div>\n      <div style=\"position:absolute; left:12px; top:30px; width:4px; height:1px; background:#555; transform:translateY(-50%);\"><\/div>\n      <div style=\"position:absolute; left:18px; top:30px; transform:translateY(-50%); font-size:9px; white-space:nowrap;\">14<\/div>\n      <div style=\"position:absolute; left:12px; top:15px; width:4px; height:1px; background:#555; transform:translateY(-50%);\"><\/div>\n      <div style=\"position:absolute; left:18px; top:15px; transform:translateY(-50%); font-size:9px; white-space:nowrap;\">21<\/div>\n      <div style=\"position:absolute; left:12px; top:0px; width:4px; height:1px; background:#555; transform:translateY(-50%);\"><\/div>\n      <div style=\"position:absolute; left:18px; top:0px; transform:translateY(-50%); font-size:9px; white-space:nowrap;\">28<\/div>\n    <\/div>\n  <\/div>\n<\/div>","topright",null,"info legend"]}],"fitBounds":[41.28749203972838,-5.353335094870733,59.50914093220831,21.10806248890265,[]]},"evals":[],"jsHooks":{"render":[{"code":"function(el, x, data) {\n  return (\n      function(el, x, data) {\n      // get the leaflet map\n      var map = this; //HTMLWidgets.find('#' + el.id);\n      // we need a new div element because we have to handle\n      // the mouseover output separately\n      // debugger;\n      function addElement () {\n      // generate new div Element\n      var newDiv = $(document.createElement('div'));\n      // append at end of leaflet htmlwidget container\n      $(el).append(newDiv);\n      //provide ID and style\n      newDiv.addClass('lnlt');\n      newDiv.css({\"position\":\"relative\",\"bottomleft\":\"0px\",\"background-color\":\"rgba(255, 255, 255, 0.7)\",\"box-shadow\":\"0 0 2px #bbb\",\"background-clip\":\"padding-box\",\"margin\":\"0\",\"padding-left\":\"5px\",\"padding-right\":\"5px\",\"color\":\"#333\",\"font-size\":\"9px\",\"font-family\":\"\\\"Helvetica Neue\\\", Arial, Helvetica, sans-serif\",\"text-align\":\"left\",\"z-index\":\"700\"});\n      return newDiv;\n      }\n\n\n      // check for already existing lnlt class to not duplicate\n      var lnlt = $(el).find('.lnlt');\n\n      if(!lnlt.length) {\n      lnlt = addElement();\n\n      // grab the special div we generated in the beginning\n      // and put the mousmove output there\n\n      map.on('mousemove', function (e) {\n      if (e.originalEvent.ctrlKey) {\n      if (document.querySelector('.lnlt') === null) lnlt = addElement();\n      lnlt.text(\n                           ' lon: ' + (e.latlng.lng).toFixed(5) +\n                           ' | lat: ' + (e.latlng.lat).toFixed(5) +\n                           ' | zoom: ' + map.getZoom() +\n                           ' | x: ' + L.CRS.EPSG3857.project(e.latlng).x.toFixed(0) +\n                           ' | y: ' + L.CRS.EPSG3857.project(e.latlng).y.toFixed(0) +\n                           ' | epsg: 3857 ' +\n                           ' | proj4: +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs ');\n      } else {\n      if (document.querySelector('.lnlt') === null) lnlt = addElement();\n      lnlt.text(\n                      ' lon: ' + (e.latlng.lng).toFixed(5) +\n                      ' | lat: ' + (e.latlng.lat).toFixed(5) +\n                      ' | zoom: ' + map.getZoom() + ' ');\n      }\n      });\n\n      // remove the lnlt div when mouse leaves map\n      map.on('mouseout', function (e) {\n      var strip = document.querySelector('.lnlt');\n      if( strip !==null) strip.remove();\n      });\n\n      };\n\n      //$(el).keypress(67, function(e) {\n      map.on('preclick', function(e) {\n      if (e.originalEvent.ctrlKey) {\n      if (document.querySelector('.lnlt') === null) lnlt = addElement();\n      lnlt.text(\n                      ' lon: ' + (e.latlng.lng).toFixed(5) +\n                      ' | lat: ' + (e.latlng.lat).toFixed(5) +\n                      ' | zoom: ' + map.getZoom() + ' ');\n      var txt = document.querySelector('.lnlt').textContent;\n      console.log(txt);\n      //txt.innerText.focus();\n      //txt.select();\n      setClipboardText('\"' + txt + '\"');\n      }\n      });\n\n      }\n      ).call(this.getMap(), el, x, data);\n}","data":null},{"code":"function(el, x, data) {\n  return (function(el,x,data){\n           var map = this;\n\n           map.on('keypress', function(e) {\n               console.log(e.originalEvent.code);\n               var key = e.originalEvent.code;\n               if (key === 'KeyE') {\n                   var bb = this.getBounds();\n                   var txt = JSON.stringify(bb);\n                   console.log(txt);\n\n                   setClipboardText('\\'' + txt + '\\'');\n               }\n           })\n        }).call(this.getMap(), el, x, data);\n}","data":null},{"code":"function(el, x, data) {\n  return (\nfunction(el, x, mapping) {\n  var map = this;\n\n  function setLegend(group, show) {\n    var id = mapping[group];\n    if (!id) return;\n    var node = document.getElementById(id);\n    if (!node) return;\n    node.style.display = show ? \"\" : \"none\";\n  }\n\n  map.on(\"overlayadd\", function(e) {\n    var group = e.name || (e.layer && e.layer.options && (e.layer.options.group || e.layer.options.name));\n    if (group) setLegend(group, true);\n  });\n\n  map.on(\"overlayremove\", function(e) {\n    var group = e.name || (e.layer && e.layer.options && (e.layer.options.group || e.layer.options.name));\n    if (group) setLegend(group, false);\n  });\n}\n).call(this.getMap(), el, x, data);\n}","data":{"Pembrokeshire":"legend-Pembrokeshire","Manchester":"legend-Manchester","Ruhr":"legend-Ruhr","Barcelona":"legend-Barcelona","Bologna":"legend-Bologna","Stockholm":"legend-Stockholm","Warsaw":"legend-Warsaw","Multnomah":"legend-Multnomah"}}]}}</script>
<script type="application/htmlwidget-sizing" data-for="htmlwidget-c54b8c3646284888460e">{"viewer":{"width":"100%","height":1000,"padding":0,"fill":false},"browser":{"width":"100%","height":1000,"padding":0,"fill":false}}</script>
</body>
</html>
